
set(REDUCTION_IMPLEMENTATIONS "")

if (WITH_OPENMP) 
  list(APPEND REDUCTION_IMPLEMENTATIONS "\"openmp\"")
endif()


if (WITH_NEW_OPENMP)
  list(APPEND REDUCTION_IMPLEMENTATIONS "\"openmpNew\"")
endif()

if (WITH_NEW_OPENMP)
  list(APPEND REDUCTION_IMPLEMENTATIONS "\"cub\"")
endif()

string(REPLACE ";" "," REDUCTION_IMPLEMENTATIONS "${REDUCTION_IMPLEMENTATIONS}")

set(REDUCTION_IMPLEMENTATIONS "[${REDUCTION_IMPLEMENTATIONS}]")
set(REDUCTION_BUILD_DIR ${CMAKE_BINARY_DIR})

set(DEST_SRC_FILE "${CMAKE_CURRENT_BINARY_DIR}/measure.py")
configure_file(measure.py.in ${DEST_SRC_FILE})
